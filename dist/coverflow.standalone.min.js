/*! CoverflowJS - v3.0.0rc3 - 2014-01-25
* Copyright (c) 2008-2014 Paul Baukus, Addy Osmani, Sebastian Sauer, Brandon Belvin, April Barrett; Licensed MIT */
function ClassicRenderer(a,b,c,d){var e=this;e.widget=a,e.element=b,e.items=c,e.options=d}function toRadian(a){return parseFloat((.017453*a).toFixed(6))}function ThreeDRenderer(){$.coverflow.renderer.Classic.apply(this,arguments)}!function(a,b,c){"use strict";for(var d=b.createElement("div"),e=d.style,f=0,g=["ms","moz","webkit","o"],h=g.length,i="",j=0,k=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};h>j&&!c.requestAnimationFrame;j++)c.requestAnimationFrame=c[g[j]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[g[j]+"CancelAnimationFrame"]||c[g[j]+"CancelRequestAnimationFrame"];if(c.requestAnimationFrame||(c.requestAnimationFrame=function(a){var b=(new Date).getTime(),d=Math.max(0,16-(b-f)),e=c.setTimeout(function(){a(b+d)},d);return f=b+d,e}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(a){clearTimeout(a)}),a.each(g,function(b,c){return"ms"!==c&&(c=k(c)),!a.support.transform&&c+"Transform"in e&&(a.support.transform=c+"Transform"),!a.support.transition&&c+"Transition"in e&&(a.support.transition=c+"Transition"),a.support.transform&&a.support.transition?(i=c,!1):!0}),a.support.transform&&a.support.transition||(a.support.transform="transform"in e?"transform":!1,a.support.transition="transition"in e?"transition":!1),null==a.cssProps)throw new Error("Your jQuery version is too old. Please upgrade.");i&&a.each(["transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay","perspectiveOrigin"],function(b,c){null==a.cssProps[c]&&(a.cssProps[c]=i+k(c))}),d=null}(jQuery,document,window),function(a,b,c){function d(a,b){return typeof a===b}function e(a,b){return!!~(""+a).indexOf(b)}function f(a,b){var d,f;for(d in a)if(f=a[d],!e(f,"-")&&m[f]!==c)return"pfx"===b?f:!0;return!1}function g(a,b,e){var f,g;for(f in a)if(g=b[a[f]],g!==c)return e===!1?a[f]:d(g,"function")?$.proxy(g,e||b):g;return!1}function h(a,b,c){var e=a.charAt(0).toUpperCase()+a.slice(1),h=(a+" "+o.join(e+" ")+e).split(" ");return d(b,"string")||d(b,"undefined")?f(h,b):(h=(a+" "+p.join(e+" ")+e).split(" "),g(h,b,c))}var i,j=b.documentElement,k="coverflowjsfeaturedetection",l=b.createElement(k),m=l.style,n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q=function(a,c,d,e){var f,g,h,i,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:k+(d+1),l.appendChild(h);return f=["&#173;","<style id='s",k,"'>",a,"</style>"].join(""),l.id=k,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",i=j.style.overflow,j.style.overflow="hidden",j.appendChild(n)),g=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),j.style.overflow=i),!!g},r={}.hasOwnProperty;i=d(r,"undefined")||d(r.call,"undefined")?function(a,b){return b in a&&d(a.constructor.prototype[b],"undefined")}:function(a,b){return r.call(a,b)},$.support.transform3d=function(){var a=!!h("perspective");return a&&"webkitPerspective"in j.style&&q("@media (transform-3d),(-webkit-transform-3d){#coverflowjsfeaturedetection{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a}()}(this,this.document),ClassicRenderer.prototype={cssClass:"classic",itemMargin:0,initialize:function(){var a=this,b=a.options,c={},d=a.items.eq(a.widget.currentIndex);a.itemSize=d.width(),a.outerWidth=a.element.parent().outerWidth(!1),a.itemMargin=-Math.floor(b.overlap/2*d.innerWidth()),a.items.css({marginLeft:a.itemMargin,marginRight:a.itemMargin}),c.width=a.items.width()*a.items.length,$.extend(c,a._getCenterPosition()),a.element.css(c)},getItemRenderedWidth:function(){return this.itemSize},_getCenterPosition:function(){var a,b=this,c=b.itemSize,d=b.widget.currentIndex;return a=(b.outerWidth-c)/2,a-=d*b.itemSize/2,a+=parseInt(b.element.css("paddingLeft"),10)||0,a-=d*b.itemMargin*2,a-=b.itemMargin,a=Math.round(a),{left:a}},select:function(){return this._getCenterPosition()},getElementTransitionStyles:function(a){var b=$.coverflow.transition[a.easing]||$.coverflow.transition.easeOutQuint;return $.extend(this._getCenterPosition(),{transition:"left "+a.duration+"ms "+b})},refresh:function(a,b,c){var d=this,e=d.options,f=d.items.length,g=d.itemSize,h=d.itemMargin;this.items.each(function(i){var j=i===c&&0>b-c||i-c>0?"left":"right",k=i===c?1-a:i===b?a:1,l={zIndex:f+("left"===j?c-i:i-c)+10},m=1-k*(1-e.scale),n=[m,k*("right"===j?-.15:.15),0,m,0,0];l.left=-i*(g/2)+("right"===j?-g/2+g/2*e.overlap:g/2-g/2*e.overlap)*k,$.coverflow.isOldie&&(i===c?(l.left+=h,l.top=0):l.top=Math.ceil(-h/2)),d._transform(this,l,n),$(this).css(l)})},_transform:function(){var a=this;return $.support.transform?void a._matrixTransform.apply(a,arguments):void($.coverflow.isOldie&&a._fallbackTransform.apply(a,arguments))},_matrixTransform:function(a,b,c){b.transform="matrix("+c.join(",")+")"},_fallbackTransform:function(a,b,c){a.filters["DXImageTransform.Microsoft.Matrix"]||(a.style.filter=(a.style.filter?"":" ")+'progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand")');var d=a.filters["DXImageTransform.Microsoft.Matrix"];d.M11=c[0],d.M12=c[2],d.M21=c[1],d.M22=c[3]}},null==$.coverflow&&($.coverflow={renderer:{}}),$.extend($.coverflow.renderer,{Classic:ClassicRenderer}),ThreeDRenderer.prototype={cssClass:"3d",initialize:function(){var a=this,b={};a.itemSize=a.items.eq(a.widget.currentIndex).outerWidth(!0),a.outerWidth=a.element.parent().outerWidth(!1),b.width=a.itemSize*a.items.length,$.extend(b,a._getCenterPosition(),a._getPerspectiveOrigin()),a.element.css(b)},getItemRenderedWidth:function(){var a=this.options;return Math.cos(toRadian(a.angle))*this.itemSize*a.scale},_getPerspectiveOrigin:function(){var a=this,b=a.options;return{perspectiveOrigin:Math.round(a.itemSize/2+a.widget.currentIndex*a.getItemRenderedWidth()*(1-b.overlap))+"px "+b.perspectiveY+"%"}},_getCenterPosition:function(){var a,b=this,c=b.getItemRenderedWidth(),d=b.widget.currentIndex;return a=(b.outerWidth-b.itemSize)/2,a-=d*c,a+=d*c*b.options.overlap,a-=parseInt(b.element.css("paddingLeft"),10)||0,a=Math.round(a),{left:a}},select:function(){return $.extend({},this._getCenterPosition(),this._getPerspectiveOrigin())},getElementTransitionStyles:function(a){var b=this,c=$.coverflow.transition[a.easing]||$.coverflow.transition.easeOutQuint,d={transitionProperty:"left",transitionDuration:a.duration+"ms",transitionTimingFunction:c,transitionDelay:"initial"};$.extend(d,b._getCenterPosition(),b._getPerspectiveOrigin()),b.element.css(d)},refresh:function(a,b,c){var d=this,e=d.options,f=d.items.length,g=d.itemSize,h=d.getItemRenderedWidth();this.items.each(function(d){var i,j=d===c&&0>b-c||d-c>0?"left":"right",k=d===c?1-a:d===b?a:1,l={zIndex:f+("left"===j?c-d:d-c)+10},m=1-k*(1-e.scale),n="right"===j?e.angle:-e.angle;n=toRadian(k*n),l.left=Math.round(-d*g+k*d*h*(1-e.overlap)+(1-k)*d*h*(1-e.overlap)),i=[(m*Math.cos(n)).toFixed(6),0,Math.sin(-n).toFixed(6),0,0,m,0,0,Math.sin(n).toFixed(6),0,(m*Math.cos(n)).toFixed(6),0,0,0,0,1],l.transform="matrix3d("+i.join(", ")+")",l.transformOrigin="right"===j?"left center":"right center",$(this).css(l)})}},null==$.coverflow&&($.coverflow={renderer:{}}),$.extend($.coverflow.renderer,{ThreeD:ThreeDRenderer}),function(a,b,c){"use strict";function d(a,b){var c;return function(){var d=this,e=arguments;c&&clearTimeout(c),c=setTimeout(function(){a.apply(d,e),c=null},b)}}var e={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"transitionend"},f=navigator.userAgent.toLowerCase(),g=function(){var a=/(msie) ([\w.]+)/.exec(f);return null!==a&&a[1]&&~~a[2]<10}();a.coverflow=a.extend(!0,{},a.coverflow,{isAndroid:/android/.test(f),isOldie:g,transition:{easeInQuad:"cubic-bezier( .55,.085,.68,.53 )",easeInCubic:"cubic-bezier( .550, .055, .675, .190 )",easeInQuart:"cubic-bezier( .895, .03, .685, .22 )",easeInQuint:"cubic-bezier( .755, .05, .855, .06 )",easeInSine:"cubic-bezier( .47, 0, .745, .715 )",easeInExpo:"cubic-bezier( .95, .05, .795, .035 )",easeInCirc:"cubic-bezier( .6, .04, .98, .335 )",easeInBack:"cubic-bezier( .6, -.28, .735, .045 )",easeOutQuad:"cubic-bezier( .25,.46,.45,.94 )",easeOutCubic:"cubic-bezier( .215,.61,.355,1 )",easeOutQuart:"cubic-bezier( .165, .84, .44, 1 )",easeOutQuint:"cubic-bezier( .23, 1, .32, 1 )",easeOutSine:"cubic-bezier( .39, .575, .565, 1 )",easeOutExpo:"cubic-bezier( .19,1,.22,1 )",easeOutCirc:"cubic-bezier( .075, .82, .165, 1 )",easeOutBack:"cubic-bezier( .175, .885, .32, 1.275 )",easeInOutQuad:"cubic-bezier( .455, .03, .515, .955 )",easeInOutCubic:"cubic-bezier( .645, .045, .355, 1 )",easeInOutQuart:"cubic-bezier( .77, 0, .175, 1 )",easeInOutQuint:"cubic-bezier( .86, 0, .07, 1 )",easeInOutSine:"cubic-bezier( .445, .05, .55, .95 )",easeInOutExpo:"cubic-bezier( 1, 0, 0, 1 )",easeInOutCirc:"cubic-bezier( .785, .135, .15, .86 )",easeInOutBack:"cubic-bezier( .68, -.55, .265, 1.55 )"},renderer:{}}),a.widget("ui.coverflow",{options:{items:"> *",active:0,duration:400,easing:"easeOutQuint",angle:45,perspectiveY:45,scale:.7,overlap:.3,trigger:{itemfocus:!1,itemclick:!0,mousewheel:!0,swipe:!0}},isTicking:!1,_create:function(){var b,d,e=this,f=this.options;e.elementOrigStyle=e.element.attr("style"),e.items=e.element.find(f.items).each(function(){var b=a(this);b.data({coverflowOrigElemAttr:{style:b.attr("style"),"class":b.attr("class"),tabIndex:b.attr("tabIndex")}})}).addClass("ui-coverflow-item"),e._setDimensions(),b=a.support.transform&&!g&&null==c.opera&&a.support.transform3d?a.coverflow.renderer.ThreeD:a.coverflow.renderer.Classic,d={angle:f.angle,perspectiveY:f.perspectiveY,scale:f.scale,overlap:f.overlap,itemSize:e.itemSize,outerWidth:e.outerWidth},e.renderer=new b(e,e.element,e.items,d),e.element.addClass("ui-coverflow ui-coverflow-"+e.renderer.cssClass+"-render").parent().addClass("ui-coverflow-wrapper ui-clearfix"),f.trigger.itemfocus&&this._bindFocus(),f.trigger.itemclick&&e._on(e.items,{click:e._select}),f.trigger.mousewheel&&e._on({mousewheel:e._onMouseWheel,DOMMouseScroll:e._onMouseWheel}),f.trigger.swipe&&e._bindSwipe(),e.useJqueryAnimate=!(a.support.transition&&a.isFunction(c.requestAnimationFrame)),e.coverflowrafid=0},_bindFocus:function(){var a=this;a.items.prop("tabIndex",0),a._on(a.items,{focus:a._select})},_bindSwipe:function(){var b=this,e=b.element,f=!1,g=!1;a.event.special&&a.event.special.swipe&&(f=!0,a.coverflow.isAndroid&&(a.event.special.swipe.scrollSupressionThreshold=0),a.event.special.swipe.handleSwipe=function(b,c){var d=b.coords,e=c.coords,f=a.event.special.swipe;c.time-b.time<f.durationThreshold&&Math.abs(d[0]-e[0])>f.horizontalDistanceThreshold&&Math.abs(d[1]-e[1])<f.verticalDistanceThreshold&&b.origin.trigger("swipe",{swipestart:b,swipestop:c}).trigger(b.coords[0]>c.coords[0]?"swipeleft":"swiperight",{swipestart:b,swipestop:c})},b._on({swipe:d(b._handleJQmSwipe,150)})),e.hammer&&null!=c.Hammer&&(g=!0,e.hammer().on("drag swipe",function(a){Hammer.utils.isVertical(a.gesture.direction)||a.gesture.preventDefault()}),b._on({swipe:b._handleHammerSwipe})),f||g||b._on({swipeleft:b.next,swiperight:b.prev})},_init:function(){var a=this,b=a.options;b.duration=~~b.duration,b.duration<1&&(b.duration=1),a.currentIndex=a._isValidIndex(b.active,!0)?b.active:0,a.activeItem=a.items.removeClass("ui-state-active").eq(a.currentIndex).addClass("ui-state-active"),a._setDimensions(),a.renderer.initialize(),a._refresh(1,a._getFrom(),a.currentIndex),a._trigger("beforeselect",null,a._ui()),a._trigger("select",null,a._ui())},_setDimensions:function(){var a=this;a.itemWidth=a.items.width(),a.itemHeight=a.items.height(),a.itemSize=a.items.outerWidth(!0),a.outerWidth=a.element.parent().outerWidth(!1)},_isValidIndex:function(a,b){return b=!!b,a=~~a,(this.currentIndex!==a||b)&&a>-1&&!!this.items.get(a)},_select:function(a){this.select(a.currentTarget)},next:function(){return this.select(this.currentIndex+1)},prev:function(){return this.select(this.currentIndex-1)},_handleJQmSwipe:function(a,b){var c=b.swipestart,d=b.swipestop,e=d.time-c.time,f=d.coords[0]-c.coords[0],g=f/e,h=0>f?"left":"right";this._handleSwipe(h,g)},_handleHammerSwipe:function(a){var b=a.gesture;this._handleSwipe(b.direction,b.distance/b.deltaTime)},_handleSwipe:function(a,b){var c,d,e=this;return c=e.outerWidth*Math.pow(b,2)*.25,c/=e.itemWidth,c=Math.floor(c)*("left"===a?1:-1),d=e.currentIndex+c,c?0>d?void e.select(0):e._isValidIndex(d)?void e.select(d):void e.select(e.items.length-1):void("left"===a?e.next():e.prev())},_getFrom:function(){var a=this;return Math.abs(a.previous-a.currentIndex)<=1?a.previousIndex:a.currentIndex+(a.previousIndex<a.currentIndex?-1:1)},select:function(b){var d,f=this,g=f.options,h=isNaN(parseInt(b,10))?f.items.index(b):parseInt(b,10);return f._isValidIndex(h)?!1===f._trigger("beforeselect",null,this._ui(f.items.eq(h),h))?!1:(f.isTicking&&(f.useJqueryAnimate?f.element.stop(!0,!1):(f.coverflowrafid&&c.cancelAnimationFrame(f.coverflowrafid),f.element.unbind(e[a.support.transition]))),f.isTicking=!0,f.previousIndex=f.currentIndex,g.active=f.currentIndex=h,d=a.extend({},f.renderer.select(),{coverflow:1}),f.useJqueryAnimate?f._animation(g,d):(g=a.extend({duration:g.duration,easing:g.easing},d),f._transition(g)),!0):!1},_animation:function(b,c){var d=this,e=this._getFrom();a.fx.step.coverflow=function(a){d._refresh(a.now,e,d.currentIndex)},d.element.animate(c,{duration:b.duration,easing:b.easing}).promise().done(function(){d._onAnimationEnd()})},_transition:function(b){var d=this,f=new Date,g=d._getFrom(),h=d.currentIndex,i={},j=function(){var a=((new Date).getTime()-f.getTime())/b.duration;a>1?d.isTicking=!1:d._refresh(a,g,h),d.isTicking&&(d.coverflowrafid=c.requestAnimationFrame(j))};a.isFunction(d.renderer.getElementTransitionStyles)&&(i=a.extend(i,d.renderer.getElementTransitionStyles(b))),d.element.one(e[a.support.transition],function(){d._refresh(1,g,h),d._onAnimationEnd()}).css(i),d.coverflowrafid=c.requestAnimationFrame(j)},_onAnimationEnd:function(){var a=this;a.coverflowrafid&&cancelAnimationFrame(a.coverflowrafid),a.isTicking=!1,a.activeItem=a.items.removeClass("ui-state-active").eq(a.currentIndex).addClass("ui-state-active"),a._trigger("select",null,a._ui())},_refresh:function(a,b,c){this.element.parent().scrollTop(0),this.renderer.refresh(a,b,c)},_ui:function(a,b){return{active:a||this.activeItem,index:null!=b?b:this.currentIndex}},_onMouseWheel:function(a){var b=a.originalEvent;return a.preventDefault(),b.wheelDelta>0||b.detail<0?void this.prev():void this.next()},_destroy:function(){var b=this;void 0!==b.elementOrigStyle?b.element.attr("style",this.elementOrigStyle):b.element.removeAttr("style"),b.element.removeClass("ui-coverflow ui-helper-clearfix ui-coverflow-"+(b.renderer.cssClass||"classic")+"-render").parent().removeClass("ui-coverflow-wrapper ui-clearfix"),b.items.removeClass("ui-coverflow-item ui-state-active").each(function(){var b=a(this),c=b.data("coverflowOrigElemAttr");a.each(c,function(a,c){void 0!==c?b.attr(a,c):b.removeAttr(a)}),b.data("coverflowOrigElemAttr",null)}),b._super()}})}(jQuery,document,window);